<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>women</title>
	<link rel="stylesheet" href="style/style.css">
	<link rel="stylesheet" href="style/normalizer.css">
	<link rel="stylesheet" href="style/splide-sea-green.min.css">
	<link rel="icon" 
      type="image/png" 
      href="img/favicon.png" />
   <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


	<!-- <script src="https://www.google.com/recaptcha/api.js" async defer></script> -->
</head>
<body>
<nav>
	<div class="bottom-dashed-border">
		<div class="nav-wrap">
			<div class="wrap-logo">
				<div class="logo-image">
					<a href="index.html"><img src="img/logo.png" width="138" height="100" alt="logo"></a>
				</div>
				<div class="logo-slogan">
					<p>KATURIER</p>
					<span>Пошив изделий на заказ</span>
				</div>
			</div>
			<div class="wrap-nav-phone">
				<div class="nav-phone">
					<img src="img/viber_orange_small.png" width="40" height="40" alt="viber">&nbsp;<span>katurier</span> 
					<img src="img/email_orange_small.png" width="38" height="30" alt="email">&nbsp;<span>katurier@mail.ru</span></div>
				<div class="nav-ul-li">
					<ul>
						<li><a href="assortiment.html">взрослым</a></li>
						<li>детям</li>
						<li>фэмили лук</li>
						<li>вышивка</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</nav>

<!-- === woman === -->
<section id="catalog">
	<div class="catalog-h2">
		<p>Взрослые модели</p>
	</div>
	<div class="wrap-assortiment">
		<div class="catalog-item">
			<img src="img/catalog/woman10-0.jpg" width="400" height="500" alt="catalog-image" onmousemove="changeImageByHovering(event, this)" onmouseout="clearCoor(this)">
			<div class="description">
				<p>Лонгслив.</p>
				<!-- <p class="show-more-photo">Показать ещё фото</p> -->
				<p class="price">1100 руб.</p>
				<p class="description-hover">
					<span>Трикотаж. Плотность материала: 150гр/кв.м </span>
					
					<button><a href="item-card.html">заказать</a></button>
				</p>
			</div>	
		</div>
		<div class="catalog-item" id="item2">
			<img src="img/catalog/woman11-0.jpg" width="400" height="500" alt="catalog-image" onmousemove="changeImageByHovering(event, this)" onmouseout="clearCoor(this)">
			<div class="description">
				<p>Бафф в ассортименте</p>
				<p class="price">500 руб.</p>
				<p class="description-hover">
					<span>Размеры: 40 х 20 см.</span>
					<button><a href="item-card.html">заказать</a></button>
				</p>
			</div>	
		</div>
		<div class="catalog-item">
			<img src="img/catalog/woman12-0.jpg" width="400" height="500" alt="catalog-image" onmousemove="changeImageByHovering(event, this)" onmouseout="clearCoor(this)">
			<div class="description">
				<p>Бафф в ассортименте</p>
				<p class="price">400 руб.</p>
				<p class="description-hover">
					<span>Размеры: 40 х 20 см.</span>
					<button><a href="item-card.html">заказать</a></button>
				</p>
			</div>	
		</div>
		<div class="catalog-item">
			<img src="img/catalog/woman13-0.jpg" width="400" height="500" alt="catalog-image" onmousemove="changeImageByHovering(event, this)" onmouseout="clearCoor(this)">
			<div class="description">
				<p>Спецодежда. Футболка + брюки.</p>
				<p class="price">1700 руб.</p>
				<p class="description-hover">
					<span>Дополнительно: футболка с боковым карманом, брюки с полоской.</span>
					<button><a href="item-card.html">заказать</a></button>
				</p>
				
			</div>	
		</div>
		<div class="catalog-item">
			<img src="img/catalog/woman14-0.jpg" width="400" height="500" alt="catalog-image" onmousemove="changeImageByHovering(event, this)" onmouseout="clearCoor(this)">
			<div class="description">
				<p>Трикотажная кофта утеплённая.</p>
				<p  class="price">1300 руб.</p>
				<p class="description-hover">
					<span>Материал комбинированный, с начёсом</span>
					<button><a href="item-card.html">заказать</a></button>
				</p>
			</div>	
		</div>
	
		
	</div>
</section>



<footer>
	<div class="footer-wrap">
		<div class="footer-left">
			<div class="footer-left-container">
				<p>KATURIER</p>
				<img src="img/logo.png" width="111" height="80" alt="logo">
				<span>Пошив изделий на заказ</span>		
			</div>	
		</div>
		<div class="footer-middle">
			<ul>
				<li><img src="img/clock.png" width="50" height="50" alt=""></li>
				<li>Пн - Пт</li>
				<li>9 - 18</li>
			</ul>
		</div>
		<div class="footer-right">
			<ul>
				<li><img src="img/email2.png" width="50" height="40" alt=""></li>
				<li>katurier@mail.ru</li>
			</ul>	
		</div>
	</div>
	<p id="created"><span>Created by BERGAN</span></p>
</footer>


<!-- ============================================== -->


<script>

var firstPoint = []; // store first mouse coordinate when cursore entrance in DIV
var lastPoint = []; // store last coordinate
var imgsrc; // image attribute source

function changeImageByHovering(e, object) {
    let source = $(object).attr("src"); // get attributes from  image
    let pattern = /\d{1,2}(?=(\d{0})+(?!\d))/g; // REGEXP  /\d./g  // \d.(?=-)  // \d{1,2}(?=(\d{0})+(?!\d))
    let numbersFromFileName = source.match(pattern); // get numbers from image name. Output is ARRAY of string

    var x = Math.round(e.clientX); // get coordinates of mouse moving

    var coor = "Coordinates: (" + x + ")"; // only to see on screen how x-coordinate is changing
    firstPoint.push(x); //create first point
    if (firstPoint[1] > firstPoint[0]) { // not allow to grow array lenght
        firstPoint.splice(-1, 1); //remove from end one element
    }
    lastPoint.push(x); // proxy array for storing last coordinate

    if (lastPoint.length > 2) { //not allow to grow array lenght
        lastPoint.splice( 0, 1); // remove from start element, we need the last coordinate of mouse
    }
 
    var result = lastPoint[1] - firstPoint[0]; // calculate width 

    // width of DIV element in this case 400px;
    if (result >= -382 && result < 399) {
        
        if (result > 0 && result <= 100 || result > -400 && result <= -300) {
            $(object).attr("src", `img/catalog/woman${numbersFromFileName[0]}-0.jpg`);
        } else if (result > 100  && result <= 200 || result > -300 && result <= -200){
            $(object).attr("src", `img/catalog/woman${numbersFromFileName[0]}-1.jpg`);
        } else if (result > 200  && result <= 300 || result > -200 && result <= -100){
            $(object).attr("src", `img/catalog/woman${numbersFromFileName[0]}-2.jpg`);
        } else if (result > 300  && result <= 400 || result > -100 && result <= -1){
            $(object).attr("src", `img/catalog/woman${numbersFromFileName[0]}-3.jpg`);
        }
    }   
}

function clearCoor( object) { // clear array after mouse coordinate out of a DIV element
	firstPoint.splice(0, firstPoint.length);
}
</script>

<script>
	$(document).ready(function(){
		// change image in the same DIV by clicking on the photo
		// photo' name have limits, example: smallest - (image01-0.jpg) ... the biggest - (image99-4.jpg)
		$("img").click(function(){ 
			let source = $(this).attr("src"); // get attributes from clicked image
   	 	let pattern = /\d{1,2}(?=(\d{0})+(?!\d))/g; // REGEXP  /\d./g  // \d.(?=-)  // \d{1,2}(?=(\d{0})+(?!\d))
   	 	let numbersFromFileName = source.match(pattern); // get numbers from image name. Output is ARRAY of string
			numberImage = Number(numbersFromFileName[1]); //CONVERT into number from string 
   	 
   	 	numberImage += 1;
   	 	if (numberImage >= 4) { // limit in 4 images of item
   	 		numberImage = 0;
   	 	}
   	 	$(this).attr("src", `img/catalog/woman${numbersFromFileName[0]}-${numberImage}.jpg`);
			});
		});
</script>

	
</body>
</html>



